(this["webpackJsonpmax-shop"]=this["webpackJsonpmax-shop"]||[]).push([[0],{153:function(e,t,a){e.exports=a(309)},158:function(e,t,a){},159:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),l=(a(158),a(159),a(19)),s=a(20),u=a(22),o=a(21),d=a(23),m=a(152),p=a(29),h=a(13),f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={items:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="";return this.state.items.staticData.forEach((function(t){return!0===t.isAdded?e++:null})),r.a.createElement("nav",{className:"nav-menu"},r.a.createElement(p.b,{to:"/",className:"nav-link"},"Shop "),r.a.createElement(p.b,{to:"/basket",className:"nav-link basket"},"Basket",r.a.createElement(m.a,null),e<1?null:r.a.createElement("h6",{className:"items-in-basket"},"  ",e," ")))}}],[{key:"getDerivedStateFromProps",value:function(e){return{items:e.data}}}]),t}(n.Component),b=Object(h.b)((function(e){return{data:e}}),(function(e){return{}}))(f),E=a(24),v=a(141),g=a.n(v),y=(a(165),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:1,data:[],id:1,filters:{}},a.changeCurrentPage=function(e){a.setState({currentPage:e})},a.basketHandler=function(e){a.props.addToBasket(e)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.currentPage,i=t.totalSize;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"product-container"},a.length>=1?a.slice(12*n-12,12*n).map((function(t){var a=t.id;return r.a.createElement("ul",{className:"product-item",key:t.id},r.a.createElement("li",null,"For ",t.gender),r.a.createElement("li",null,r.a.createElement("img",{src:"https:"+t.img,alt:"clothes"})),r.a.createElement("li",null,t.type),r.a.createElement("li",null,"Price ",t.price," $"),r.a.createElement("li",null,"Brand ",t.brand),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return e.basketHandler(t.id)},disabled:t.isAdded},t.isAdded?"Added to basket":"Add to basket")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/item/".concat(a),className:"nav-link"},"More info ... ")))})):r.a.createElement("h2",null,"No match items , please change serching options")),r.a.createElement("div",{className:"paginator"},this.props.dataList.length>12?r.a.createElement(g.a,{currentPage:n,totalSize:i,sizePerPage:12,changeCurrentPage:this.changeCurrentPage,firstPageText:"first",lastPageText:"last",showFirstLastPages:!0,nextPageText:"next",previousPageText:"prev"}):null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.data,n=e.dataList;return n.length===a.length&&n.every((function(e,t){return a[t].id===e.id}))?{data:n||[]}:{totalSize:n?n.length:0,data:n||[],currentPage:1}}}]),t}(n.Component)),O=Object(h.b)((function(e){return{}}),(function(e){return{addToBasket:function(t){e({type:"ADD-TO-BASKET",id:t})}}}))(y),j=a(150),k=(a(219),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={selected:!0,selectedMin:0,selectedMax:0,min:0,max:0},a.brandHandler=function(e){var t=e.target.value;a.props.filter({brand:"All"===t?null:t})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleOnChange",value:function(e){console.log(e);var t=e[0],a=e[1];this.setState({selectedMin:t,selectedMax:a}),this.props.filter({price:{min:t,max:a}})}},{key:"render",value:function(){var e=this,t=[];this.props.data.brandData.forEach((function(e){t.push(e.brand)})),t=["All"].concat(Object(E.a)(new Set(t)));var a=this.props.data,n=a.minPrice,i=a.maxPrice,c=this.state,l=c.selectedMin,s=c.selectedMax,u=this.props.data.filters;return r.a.createElement("div",{className:"search-and-products-container"},r.a.createElement("div",{className:"filter-table"},r.a.createElement("label",{htmlFor:"filter-by-brand"},"Choose your brand : "),r.a.createElement("select",{value:u&&u.brand||"All",onChange:function(t){return e.brandHandler(t)},id:"filter-by-brand"},t.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),r.a.createElement("div",{className:"price-range"},r.a.createElement("h3",{className:"range-title"},"Min price : ",this.state.selectedMin," $ "),r.a.createElement("h3",{className:"range-title"},"Max price : ",this.state.selectedMax," $"),r.a.createElement(j.a,{min:n,max:i,value:[l,s],step:1,allowCross:!1,onChange:function(t){return e.handleOnChange(t)}}))),r.a.createElement("div",null,r.a.createElement(O,{dataList:this.props.data.data})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.data,n=a.minPrice,r=a.maxPrice;return n!==t.min||r!==t.max?{min:n,selectedMin:n,max:r,selectedMax:r}:{}}}]),t}(n.Component)),D=Object(h.b)((function(e){return{data:e}}),(function(e){return{filter:function(t){e({type:"FILTER",filters:t})}}}))(k),A=a(151),M=Object(A.a)({space:"04kqfsuq4bba",accessToken:"GtTpbLun7F_nGUVitUA4JnPsFzEhxPPxZ8cqHdxRL7o"}),T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,mansMenu:!1,womanMenu:!1},a.mensMenuHandler=function(){a.setState((function(e){return{mansMenu:!e.mansMenu}}))},a.womanMenuHandler=function(){a.setState((function(e){return{womanMenu:!e.womanMenu}}))},a.handleClick=function(e,t){var n=e.target.textContent;a.props.getFiterItems(t,n),"man"===t?a.setState((function(e){return{itemMan:n,itemWoman:""}})):a.setState((function(e){return{itemWoman:n,itemMan:""}}))},a.seeAllFunc=function(){a.setState((function(e){return{itemWoman:"",itemMan:""}})),a.props.seeAllDispatch()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;0===this.props.data.staticData.length&&M.getEntries({content_type:"maxShop"}).then((function(t){e.props.setData(t.items),e.props.getData()}),this.setState((function(e,t){return{loading:!1}}))).catch(console.error)}},{key:"render",value:function(){var e=this,t=[];this.props.data.staticData.forEach((function(e,a){"man"===e.gender&&t.push(e.type)})),t=Object(E.a)(new Set(t));var a=[];return this.props.data.staticData.forEach((function(e,t){"woman"===e.gender&&a.push(e.type)})),a=Object(E.a)(new Set(a)),t=t.map((function(t){return r.a.createElement("h5",{onClick:function(t){return e.handleClick(t,"man")},className:e.state.itemMan===t?"menu-items-active":"menu-items",key:t},t)})),a=a.map((function(t){return r.a.createElement("h5",{onClick:function(t){return e.handleClick(t,"woman")},className:e.state.itemWoman===t?"menu-items-active":"menu-items",key:t},t)})),r.a.createElement(r.a.Fragment,null,0===this.props.data.staticData.length?r.a.createElement("h2",{className:"loading-title"},"Loading items ..."):r.a.createElement("main",{className:"magazine-main"},r.a.createElement("div",{className:"filter-bar"},r.a.createElement("div",{className:"menu-header"},r.a.createElement("h4",{className:"menu-title",onClick:this.seeAllFunc},"See all"),r.a.createElement("h4",{className:"menu-title",onClick:this.mensMenuHandler},"Man"),this.state.mansMenu?t:null),r.a.createElement("div",{className:"menu-header"},r.a.createElement("h4",{className:"menu-title",onClick:this.womanMenuHandler},"Woman"),this.state.womanMenu?a:null)),r.a.createElement("div",{className:"product-list"},r.a.createElement(D,{data:this.props.data.data}))))}}]),t}(n.Component),x=Object(h.b)((function(e){return{data:e}}),(function(e){return{getFiterItems:function(t,a){e({type:"FILTER",filters:{gender:t,type:a,price:null,brand:null}})},seeAllDispatch:function(){e({type:"GET-DATA"})},setData:function(t){e({type:"SET-DATA",data:t})},getData:function(){e({type:"GET-DATA"})}}}))(T),P=a(9),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={items:null,modal:!1},a.quantityHandler=function(e,t){var n=e.target.value;a.props.changeQuantiy(n,t)},a.clearBasketHandler=function(){a.props.clearBasket()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=0;return this.state.items.forEach((function(e){return t+=e.price*e.quantity})),r.a.createElement("div",{className:"basket"},r.a.createElement("form",{action:"https://formspree.io/mlejjgdr",method:"POST"},this.state.items?this.state.items.map((function(t){var a=t.id;return r.a.createElement("ul",{className:"basket-item",key:a},r.a.createElement("li",null,"For ",t.gender),r.a.createElement("img",{src:"https:"+t.img,alt:"clothes"}),r.a.createElement("li",null,t.type),r.a.createElement("li",null,"Price ",t.price," $"),r.a.createElement("li",null,"Brand ",t.brand),r.a.createElement("li",{onClick:function(t){return e.quantityHandler(t,a)}},"Quantity ",r.a.createElement("button",{type:"button",value:"+"},"+"),t.quantity,r.a.createElement("button",{type:"button",value:"-"},"-")," "),r.a.createElement("li",null,r.a.createElement("input",{className:"order-info",type:"text",name:"order",defaultValue:"".concat(t.gender,"+").concat(t.type,"+").concat(t.price,"+").concat(t.brand,"+").concat(t.quantity)})))})):null,r.a.createElement("h2",null," you choose  ",this.state.items.length<1?"no one":this.state.items.length," item(s)",this.state.items.length<1?null:" on price ".concat(t," $")," "),this.state.items.length<1?null:r.a.createElement("div",{className:"basket-buttons"},r.a.createElement("button",{type:"button",onClick:this.clearBasketHandler},"Clear a basket"),r.a.createElement("input",{type:"text",name:"name",required:!0,placeholder:"Your name"}),r.a.createElement("input",{type:"tel",id:"phone",name:"phone",required:!0,placeholder:"Your phone number"}),r.a.createElement("button",{type:"submit"},"Send order"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=[];return e.data.staticData.forEach((function(e){return!0===e.isAdded?a.push(Object(P.a)({},e)):null})),{items:a,id:e.data.id}}}]),t}(n.Component),S=Object(h.b)((function(e){return{data:e}}),(function(e){return{removeItemFromBasket:function(t){e({type:"REMOVE-FROM-BASKET",id:t})},changeQuantiy:function(t,a){e({type:"ITEM-QUANTITY",val:t,id:a})},clearBasket:function(){e({type:"CLEAR-BASKET"})}}}))(N),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={data:""},a.basketHandler=function(e){a.props.addToBasket(e)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"product-page"},r.a.createElement("ul",{key:this.state.data.id},r.a.createElement("li",null,"For ",this.state.data.gender),r.a.createElement("li",null,r.a.createElement("img",{src:"https:"+this.state.data.img,alt:"clothes"})),r.a.createElement("li",null,this.state.data.type),r.a.createElement("li",null,"Price ",this.state.data.price," $"),r.a.createElement("li",null,"Brand ",this.state.data.brand),r.a.createElement("li",null,r.a.createElement("p",null,this.state.data.description)),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return e.basketHandler(e.state.data.id)},disabled:this.state.data.isAdded},this.state.data.isAdded?"Added to basket":"Add to basket"))),r.a.createElement(p.b,{to:"/",className:"nav-link"},"Back to shop "))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.location.pathname.replace("/item/",""),n=e.data.data;return{data:n=n.find((function(e){return e.id===a}))}}}]),t}(n.Component),F=Object(h.b)((function(e){return{data:e}}),(function(e){return{addToBasket:function(t){e({type:"ADD-TO-BASKET",id:t})}}}))(C),w=a(36),B=function(){return r.a.createElement("div",null,"Page not found")},q=a(53),H={filters:{},staticData:[],data:[]},L=a(149),I=a.n(L);var R=Object(q.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-DATA":var a=t.data.map((function(e){return Object(P.a)({},e.fields,{img:e.fields.img.fields.file.url,description:e.fields.description.content[0].content[0].value})}));console.log(a);var n=a.map((function(e){return e.price}));return{brandData:e.staticData,minPrice:Math.min.apply(Math,Object(E.a)(n)),maxPrice:Math.max.apply(Math,Object(E.a)(n)),data:e.staticData,selectedValue:"All",id:Math.random(),staticData:a,loaded:!0};case"GET-DATA":var r=e.staticData.map((function(e){return e.price}));return{brandData:e.staticData,minPrice:Math.min.apply(Math,Object(E.a)(r)),maxPrice:Math.max.apply(Math,Object(E.a)(r)),staticData:e.staticData,data:e.staticData,selectedValue:"All",id:Math.random(),loaded:!0};case"REMOVE-FROM-BASKET":var i=e.data.map((function(e){return e.id!==t.id?e:Object(P.a)({},e,{isAdded:!1})})),c=e.staticData.map((function(e){return e.id!==t.id?e:Object(P.a)({},e,{isAdded:!1})})),l=Object(P.a)({},e,{data:i,staticData:c,priceFilteredData:i});return console.log(l),l;case"ITEM-QUANTITY":console.log(t.val,t.id);var s=t.val;if("+"===s){var u=e.data.map((function(e){if(e.id===t.id){var a=e.quantity;return a+=1,Object(P.a)({},e,{quantity:a})}return Object(P.a)({},e)})),o=e.staticData.map((function(e){if(e.id===t.id){var a=e.quantity;return a+=1,Object(P.a)({},e,{quantity:a})}return Object(P.a)({},e)})),d=Object(P.a)({},e,{data:u,staticData:o,priceFilteredData:u});return console.log(d),d}if("-"===s){var m=e.data.map((function(e){if(e.id===t.id){var a=e.quantity;return 0===(a-=1)?Object(P.a)({},e,{isAdded:!1,quantity:1}):Object(P.a)({},e,{quantity:a})}return Object(P.a)({},e)})),p=e.staticData.map((function(e){if(e.id===t.id){var a=e.quantity;return 0===(a-=1)?Object(P.a)({},e,{isAdded:!1,quantity:1}):Object(P.a)({},e,{quantity:a})}return Object(P.a)({},e)})),h=Object(P.a)({},e,{data:m,staticData:p,priceFilteredData:m});return console.log(h),h}return e;case"CLEAR-BASKET":var f=e.data.map((function(e){return Object(P.a)({},e,{isAdded:!1})})),b=e.staticData.map((function(e){return Object(P.a)({},e,{isAdded:!1})}));return Object(P.a)({},e,{data:f,notMutableData:e.staticData,staticData:b,priceFilteredData:f});case"FILTER":var v=t.filters,g=e.filters,y=Object(P.a)({},g,{},v),O={price:function(e){var t=e.min,a=e.max;return function(e){return e.price>=t&&e.price<=a}},brand:function(e){return function(t){return t.brand===e}},gender:function(e){return function(t){return t.gender===e}},type:function(e){return function(t){return t.type===e}}},j=e.staticData.filter((function(e){return(!y.gender||e.gender===y.gender)&&(!y.type||e.type===y.type)}));console.log(j);var k=Object.keys(y).map((function(e){return y[e]?O[e](y[e]):null})).filter((function(e){return e})).reduce((function(e,t){return e.filter(t)}),e.staticData),D=k.map((function(e){return e.price})),A=y.price?{}:{minPrice:Math.min.apply(Math,Object(E.a)(D)),maxPrice:Math.max.apply(Math,Object(E.a)(D))};return Object(P.a)({},e,{},A,{data:k,filters:y,brandData:j});case"ADD-TO-BASKET":var M=e.data.map((function(e){return e.id!==t.id?e:Object(P.a)({},e,{isAdded:!0})})),T=e.staticData.map((function(e){return e.id!==t.id?e:Object(P.a)({},e,{isAdded:!0})}));return Object(P.a)({},e,{data:M,notMutableData:e.staticData,staticData:T,priceFilteredData:M});default:return e}}),Object(q.a)(I.a));R.dispatch({type:"GET-DATA"});var K=R;var W=function(){return r.a.createElement(h.a,{store:K},r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:"/",component:x}),r.a.createElement(w.b,{exact:!0,path:"/basket",component:S}),r.a.createElement(w.b,{exact:!0,path:"/item/:slug",component:F}),r.a.createElement(w.a,{exact:!0,from:"",to:"/"}),r.a.createElement(w.b,{component:B}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(p.a,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},98:function(e,t){}},[[153,1,2]]]);
//# sourceMappingURL=main.0ea972da.chunk.js.map